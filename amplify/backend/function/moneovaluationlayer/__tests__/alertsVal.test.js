const {
  instrumentValuation,
  calculateDiffPercent,
  convertTroyOunceToGram,
  getNumberOfDays,
  sortDescending,
} = require("../lib/nodejs/alertsVal");

describe("Test instrumentValuation", () => {
  test("", () => {
    const data = instrumentValuation(
      {
        INE213A01029: {
          __typename: "INExchgPrice",
          yhighd: "2022-03-08",
          mcap: 2191712845824,
          createdAt: "2022-03-29T08:56:58.074Z",
          prevol: 13608989,
          name: "Oil & Natural Gas Corporation Limited",
          mcapt: "Large",
          beta: 0.9688,
          sid: "ONGC",
          vol: 15241715,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 194.95,
          prev: 175.8,
          updatedAt: "2022-03-29T08:56:58.074Z",
          ylowd: "2022-03-08",
          ylow: 97.45,
          price: 176.35,
          id: "INE213A01029",
          type: "E",
        },
        INE043D01016: {
          __typename: "INExchgPrice",
          yhighd: "2022-02-01",
          mcap: 99857326080,
          createdAt: "2022-03-29T08:56:58.056Z",
          prevol: 21585428,
          name: "IDFC Limited",
          mcapt: "Small",
          beta: 1.2491,
          sid: "IDFC",
          vol: 12764623,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 68.3,
          prev: 63.85,
          updatedAt: "2022-03-29T08:56:58.056Z",
          ylowd: "2022-02-01",
          ylow: 41.65,
          price: 63.15,
          id: "INE043D01016",
          type: "E",
        },
        INE809I01019: {
          __typename: "INExchgPrice",
          yhighd: "2022-02-03",
          mcap: 11927454720,
          createdAt: "2022-03-29T08:56:58.074Z",
          prevol: 571936,
          name: "OnMobile Global Limited",
          mcapt: "Small",
          beta: 1.0918,
          sid: "ONMOBILE",
          vol: 580661,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 175.3,
          prev: 116.05,
          updatedAt: "2022-03-29T08:56:58.074Z",
          ylowd: "2022-02-03",
          ylow: 87.8,
          price: 112.85,
          id: "INE809I01019",
          type: "E",
        },
        INE725G01011: {
          __typename: "INExchgPrice",
          yhighd: "2022-03-10",
          mcap: 39787675648,
          createdAt: "2022-03-29T08:56:58.056Z",
          prevol: 3806,
          name: "ICRA Limited",
          mcapt: "Small",
          beta: 0.3507,
          sid: "ICRA",
          vol: 2174,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 4500,
          prev: 4102.85,
          updatedAt: "2022-03-29T08:56:58.056Z",
          ylowd: "2022-03-10",
          ylow: 3132,
          price: 4102.65,
          id: "INE725G01011",
          type: "E",
        },
        INE262H01013: {
          __typename: "INExchgPrice",
          yhighd: "2022-01-03",
          mcap: 360615182336,
          createdAt: "2022-03-29T08:56:58.075Z",
          prevol: 283302,
          name: "Persistent Systems Limited",
          mcapt: "Small",
          beta: 0.881,
          sid: "PERSISTENT",
          vol: 260703,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 4987.5,
          prev: 4675.95,
          updatedAt: "2022-03-29T08:56:58.075Z",
          ylowd: "2022-01-03",
          ylow: 1761.05,
          price: 4631.45,
          id: "INE262H01013",
          type: "E",
        },
        INE216A01030: {
          __typename: "INExchgPrice",
          yhighd: "2021-09-14",
          mcap: 748968935424,
          createdAt: "2022-03-29T08:56:58.040Z",
          prevol: 339040,
          name: "Britannia Industries Limited",
          mcapt: "Large",
          beta: 0.4189,
          sid: "BRITANNIA",
          vol: 310019,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 4153,
          prev: 3094.5,
          updatedAt: "2022-03-29T08:56:58.040Z",
          ylowd: "2021-09-14",
          ylow: 3050,
          price: 3094.8,
          id: "INE216A01030",
          type: "E",
        },
        INE318A01026: {
          __typename: "INExchgPrice",
          yhighd: "2022-01-13",
          mcap: 1230031552512,
          createdAt: "2022-03-29T08:56:58.075Z",
          prevol: 344943,
          name: "Pidilite Industries Limited",
          mcapt: "Large",
          beta: 0.2732,
          sid: "PIDILITIND",
          vol: 429939,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 2764.7,
          prev: 2456.45,
          updatedAt: "2022-03-29T08:56:58.075Z",
          ylowd: "2022-01-13",
          ylow: 1753,
          price: 2399.75,
          id: "INE318A01026",
          type: "E",
        },
        INE129A01019: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-06",
          mcap: 675383345152,
          createdAt: "2022-03-29T08:56:58.049Z",
          prevol: 10324903,
          name: "GAIL (India) Limited",
          mcapt: "Large",
          beta: 0.8088,
          sid: "GAIL",
          vol: 27869121,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 171.3,
          prev: 147.65,
          updatedAt: "2022-03-29T08:56:58.049Z",
          ylowd: "2021-10-06",
          ylow: 125.2,
          price: 152.1,
          id: "INE129A01019",
          type: "E",
        },
        INE115A01026: {
          __typename: "INExchgPrice",
          yhighd: "2021-06-11",
          mcap: 198983696384,
          createdAt: "2022-03-29T08:56:58.063Z",
          prevol: 2466056,
          name: "LIC Housing Finance Limited",
          mcapt: "Small",
          beta: 0.9385,
          sid: "LICHSGFIN",
          vol: 2270673,
          subt: "S",
          fv: 2,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 542.45,
          prev: 365.9,
          updatedAt: "2022-03-29T08:56:58.063Z",
          ylowd: "2021-06-11",
          ylow: 321,
          price: 359.55,
          id: "INE115A01026",
          type: "E",
        },
        INE062A01020: {
          __typename: "INExchgPrice",
          yhighd: "2022-02-07",
          mcap: 4404294975488,
          createdAt: "2022-03-29T08:56:58.079Z",
          prevol: 11541196,
          name: "State Bank of India",
          mcapt: "Large",
          beta: 0.9982,
          sid: "SBIN",
          vol: 16720192,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 549,
          prev: 490.7,
          updatedAt: "2022-03-29T08:56:58.079Z",
          ylowd: "2022-02-07",
          ylow: 321.3,
          price: 497.5,
          id: "INE062A01020",
          type: "E",
        },
        INF109KB15Y7: {
          __typename: "INExchgPrice",
          yhighd: "2022-01-10",
          mcap: 0,
          createdAt: "2022-03-29T08:56:58.056Z",
          prevol: 62248,
          name: "ICICI Prudential Mutual Fund - Bharat 22 ETF",
          mcapt: "Small",
          beta: 0,
          sid: "ICICIB22",
          vol: 188228,
          subt: "S",
          itype: "ETF",
          exchg: "NSE",
          risk: "M",
          yhigh: 52.2,
          prev: 48.27,
          updatedAt: "2022-03-29T08:56:58.056Z",
          ylowd: "2022-01-10",
          ylow: 31.2,
          price: 48.63,
          id: "INF109KB15Y7",
          type: "E",
        },
        INE009A01021: {
          __typename: "INExchgPrice",
          yhighd: "2022-01-17",
          mcap: 7871226970112,
          createdAt: "2022-03-29T08:56:58.058Z",
          prevol: 3438588,
          name: "Infosys Limited",
          mcapt: "Large",
          beta: 0.6578,
          sid: "INFY",
          vol: 4008247,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 1953.9,
          prev: 1876.55,
          updatedAt: "2022-03-29T08:56:58.058Z",
          ylowd: "2022-01-17",
          ylow: 1311.3,
          price: 1873.9,
          id: "INE009A01021",
          type: "E",
        },
        INE669C01036: {
          __typename: "INExchgPrice",
          yhighd: "2021-12-30",
          mcap: 1482914791424,
          createdAt: "2022-03-29T08:56:58.086Z",
          prevol: 1755511,
          name: "Tech Mahindra Limited",
          mcapt: "Large",
          beta: 0.6627,
          sid: "TECHM",
          vol: 1928029,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 1838,
          prev: 1530.55,
          updatedAt: "2022-03-29T08:56:58.086Z",
          ylowd: "2021-12-30",
          ylow: 937,
          price: 1524.45,
          id: "INE669C01036",
          type: "E",
        },
        INE391Z01012: {
          __typename: "INExchgPrice",
          subt: "S",
          exchg: "BSE",
          prev: 0.33,
          updatedAt: "2021-12-13T23:00:28.461Z",
          createdAt: "2021-12-13T23:00:28.461Z",
          price: 0.34,
          id: "INE391Z01012",
          name: "CKFSL",
          type: "E",
          sid: "542641",
        },
        INE021A01026: {
          __typename: "INExchgPrice",
          yhighd: "2022-01-10",
          mcap: 2932651851776,
          createdAt: "2022-03-29T08:56:58.036Z",
          prevol: 1083275,
          name: "Asian Paints Limited",
          mcapt: "Large",
          beta: 0.3984,
          sid: "ASIANPAINT",
          vol: 680230,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 3590,
          prev: 3046.95,
          updatedAt: "2022-03-29T08:56:58.036Z",
          ylowd: "2022-01-10",
          ylow: 2392,
          price: 3027.45,
          id: "INE021A01026",
          type: "E",
        },
        INE528G01035: {
          __typename: "INExchgPrice",
          yhighd: "2021-03-30",
          mcap: 315426701312,
          createdAt: "2022-03-29T08:56:58.089Z",
          prevol: 48911163,
          name: "Yes Bank Limited",
          mcapt: "Large",
          beta: 0.8824,
          sid: "YESBANK",
          vol: 80357232,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 16.85,
          prev: 12.7,
          updatedAt: "2022-03-29T08:56:58.089Z",
          ylowd: "2021-03-30",
          ylow: 10.5,
          price: 12.55,
          id: "INE528G01035",
          type: "E",
        },
        INE848E01016: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-18",
          mcap: 275232980992,
          createdAt: "2022-03-29T08:56:58.071Z",
          prevol: 3000370,
          name: "NHPC Limited",
          mcapt: "Small",
          beta: 0.2112,
          sid: "NHPC",
          vol: 9622711,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 37.05,
          prev: 27.25,
          updatedAt: "2022-03-29T08:56:58.071Z",
          ylowd: "2021-10-18",
          ylow: 23.05,
          price: 27.4,
          id: "INE848E01016",
          type: "E",
        },
        INE765G01017: {
          __typename: "INExchgPrice",
          yhighd: "2021-09-22",
          mcap: 626675482624,
          createdAt: "2022-03-29T08:56:58.056Z",
          prevol: 1058844,
          name: "ICICI Lombard General Insurance Company Limited",
          mcapt: "Large",
          beta: 0.538,
          sid: "ICICIGI",
          vol: 618924,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 1675,
          prev: 1265.55,
          updatedAt: "2022-03-29T08:56:58.056Z",
          ylowd: "2021-09-22",
          ylow: 1192,
          price: 1265.75,
          id: "INE765G01017",
          type: "E",
        },
        IN0020160043: {
          __typename: "INExchgPrice",
          createdAt: "2022-03-29T08:56:58.080Z",
          name: "SGBSEP24",
          mcapt: null,
          sid: "SGBSEP24",
          subt: "GoldB",
          itype: null,
          exchg: "NSE",
          risk: "VC",
          prev: 4965.22,
          updatedAt: "2022-03-29T08:56:58.080Z",
          price: 4969,
          id: "IN0020160043",
          type: "F",
        },
        INE463A01038: {
          __typename: "INExchgPrice",
          yhighd: "2021-07-22",
          mcap: 675070214144,
          createdAt: "2022-03-29T08:56:58.039Z",
          prevol: 386216,
          name: "Berger Paints (I) Limited",
          mcapt: "Large",
          beta: 0.2687,
          sid: "BERGEPAINT",
          vol: 529142,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 872.95,
          prev: 688.6,
          updatedAt: "2022-03-29T08:56:58.039Z",
          ylowd: "2021-07-22",
          ylow: 620.45,
          price: 679.95,
          id: "INE463A01038",
          type: "E",
        },
        INE040H01021: {
          __typename: "INExchgPrice",
          yhighd: "2022-01-18",
          mcap: 88403206144,
          createdAt: "2022-03-29T08:56:58.083Z",
          prevol: 27334487,
          name: "Suzlon Energy Limited",
          mcapt: "Small",
          beta: 1.4109,
          sid: "SUZLON",
          vol: 22579774,
          subt: "S",
          fv: 2,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 13.1,
          prev: 9.35,
          updatedAt: "2022-03-29T08:56:58.083Z",
          ylowd: "2022-01-18",
          ylow: 4.4,
          price: 9.1,
          id: "INE040H01021",
          type: "E",
        },
        INE745G01035: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-14",
          mcap: 72468725760,
          createdAt: "2022-03-29T08:56:58.067Z",
          prevol: 1745667,
          name: "Multi Commodity Exchange of India Limited",
          mcapt: "Small",
          beta: 0.1939,
          sid: "MCX",
          vol: 333669,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 2135,
          prev: 1443.2,
          updatedAt: "2022-03-29T08:56:58.067Z",
          ylowd: "2021-10-14",
          ylow: 1165,
          price: 1429.25,
          id: "INE745G01035",
          type: "E",
        },
        INE692A01016: {
          __typename: "INExchgPrice",
          yhighd: "2021-11-09",
          mcap: 260403970048,
          createdAt: "2022-03-29T08:56:58.087Z",
          prevol: 6491435,
          name: "Union Bank of India",
          mcapt: "Small",
          beta: 0.9688,
          sid: "UNIONBANK",
          vol: 10125164,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 54.8,
          prev: 38.4,
          updatedAt: "2022-03-29T08:56:58.087Z",
          ylowd: "2021-11-09",
          ylow: 32.1,
          price: 38.1,
          id: "INE692A01016",
          type: "E",
        },
        INE041025011: {
          __typename: "INExchgPrice",
          mcap: 279095900000,
          createdAt: "2022-03-29T08:56:58.047Z",
          prevol: 256152,
          name: "Embassy Office Parks REIT",
          mcapt: null,
          beta: 0,
          sid: "EMBASSY",
          vol: 122760,
          subt: "R",
          itype: "REIT",
          fv: 300,
          exchg: "NSE",
          risk: "M",
          yhigh: 389.98,
          prev: 369.29,
          updatedAt: "2022-03-29T08:56:58.047Z",
          ylow: 285.94,
          price: 374.32,
          id: "INE041025011",
          type: "A",
        },
        INE016A01026: {
          __typename: "INExchgPrice",
          yhighd: "2021-09-24",
          mcap: 917719154688,
          createdAt: "2022-03-29T08:56:58.043Z",
          prevol: 1185395,
          name: "Dabur India Limited",
          mcapt: "Large",
          beta: 0.2513,
          sid: "DABUR",
          vol: 2529693,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 658.95,
          prev: 519.8,
          updatedAt: "2022-03-29T08:56:58.043Z",
          ylowd: "2021-09-24",
          ylow: 502,
          price: 515.15,
          id: "INE016A01026",
          type: "E",
        },
        INE094A01015: {
          __typename: "INExchgPrice",
          yhighd: "2021-11-15",
          mcap: 378894712832,
          createdAt: "2022-03-29T08:56:58.055Z",
          prevol: 4748653,
          name: "Hindustan Petroleum Corporation Limited",
          mcapt: "Large",
          beta: 0.6622,
          sid: "HINDPETRO",
          vol: 5952627,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 354.8,
          prev: 271.4,
          updatedAt: "2022-03-29T08:56:58.055Z",
          ylowd: "2021-11-15",
          ylow: 222.8,
          price: 266.25,
          id: "INE094A01015",
          type: "E",
        },
        INE584A01023: {
          __typename: "INExchgPrice",
          yhighd: "2021-05-12",
          mcap: 465380868096,
          createdAt: "2022-03-29T08:56:58.072Z",
          prevol: 13676831,
          name: "NMDC Limited",
          mcapt: "Large",
          beta: 1.0713,
          sid: "NMDC",
          vol: 16328176,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "A",
          yhigh: 213.2,
          prev: 157.15,
          updatedAt: "2022-03-29T08:56:58.072Z",
          ylowd: "2021-05-12",
          ylow: 122,
          price: 161.4,
          id: "INE584A01023",
          type: "E",
        },
        INE752E01010: {
          __typename: "INExchgPrice",
          yhighd: "2022-03-08",
          mcap: 1480888025088,
          createdAt: "2022-03-29T08:56:58.076Z",
          prevol: 7382003,
          name: "Power Grid Corporation of India Limited",
          mcapt: "Large",
          beta: 0.2727,
          sid: "POWERGRID",
          vol: 9615824,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 223.4,
          prev: 209.65,
          updatedAt: "2022-03-29T08:56:58.076Z",
          ylowd: "2022-03-08",
          ylow: 148.88,
          price: 212.3,
          id: "INE752E01010",
          type: "E",
        },
        INE020B01018: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-14",
          mcap: 243110723584,
          createdAt: "2022-03-29T08:56:58.077Z",
          prevol: 2229995,
          name: "REC Limited",
          mcapt: "Small",
          beta: 0.8373,
          sid: "RECLTD",
          vol: 3179562,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 168.85,
          prev: 124.25,
          updatedAt: "2022-03-29T08:56:58.077Z",
          ylowd: "2021-10-14",
          ylow: 116.6,
          price: 123.05,
          id: "INE020B01018",
          type: "E",
        },
        INE237A01028: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-27",
          mcap: 3481194725376,
          createdAt: "2022-03-29T08:56:58.062Z",
          prevol: 3039150,
          name: "Kotak Mahindra Bank Limited",
          mcapt: "Large",
          beta: 0.6261,
          sid: "KOTAKBANK",
          vol: 3069452,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 2253,
          prev: 1722.25,
          updatedAt: "2022-03-29T08:56:58.062Z",
          ylowd: "2021-10-27",
          ylow: 1626,
          price: 1725.2,
          id: "INE237A01028",
          type: "E",
        },
        INE731H01025: {
          __typename: "INExchgPrice",
          yhighd: "2021-09-14",
          mcap: 25566961664,
          createdAt: "2022-03-29T08:56:58.032Z",
          prevol: 137388,
          name: "Action Construction Equipment Limited",
          mcapt: "Small",
          beta: 1.8035,
          sid: "ACE",
          vol: 214819,
          subt: "S",
          fv: 2,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 291.75,
          prev: 217.55,
          updatedAt: "2022-03-29T08:56:58.032Z",
          ylowd: "2021-09-14",
          ylow: 139.45,
          price: 213,
          id: "INE731H01025",
          type: "E",
        },
        INE562A01011: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-26",
          mcap: 185881919488,
          createdAt: "2022-03-29T08:56:58.057Z",
          prevol: 1318128,
          name: "Indian Bank",
          mcapt: "Small",
          beta: 1.057,
          sid: "INDIANB",
          vol: 1431648,
          subt: "S",
          fv: 10,
          itype: null,
          exchg: "NSE",
          risk: "VA",
          yhigh: 194.95,
          prev: 148.95,
          updatedAt: "2022-03-29T08:56:58.057Z",
          ylowd: "2021-10-26",
          ylow: 96.05,
          price: 149.2,
          id: "INE562A01011",
          type: "E",
        },
        INE059A01026: {
          __typename: "INExchgPrice",
          yhighd: "2022-03-15",
          mcap: 828960997376,
          createdAt: "2022-03-29T08:56:58.042Z",
          prevol: 1680031,
          name: "Cipla Limited",
          mcapt: "Large",
          beta: 0.4113,
          sid: "CIPLA",
          vol: 3846991,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 1083,
          prev: 1013.5,
          updatedAt: "2022-03-29T08:56:58.042Z",
          ylowd: "2022-03-15",
          ylow: 781.25,
          price: 1017.1,
          id: "INE059A01026",
          type: "E",
        },
        INE522F01014: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-06",
          mcap: 1154895577088,
          createdAt: "2022-03-29T08:56:58.042Z",
          prevol: 10044811,
          name: "Coal India Limited",
          mcapt: "Large",
          beta: 0.4577,
          sid: "COALINDIA",
          vol: 19128455,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "M",
          yhigh: 203.8,
          prev: 186.1,
          updatedAt: "2022-03-29T08:56:58.042Z",
          ylowd: "2021-10-06",
          ylow: 123.4,
          price: 191.25,
          id: "INE522F01014",
          type: "E",
        },
        INE090A01021: {
          __typename: "INExchgPrice",
          yhighd: "2021-10-25",
          mcap: 4970418012160,
          createdAt: "2022-03-29T08:56:58.056Z",
          prevol: 15263007,
          name: "ICICI Bank Limited",
          mcapt: "Large",
          beta: 1.0245,
          sid: "ICICIBANK",
          vol: 13802308,
          subt: "S",
          fv: null,
          itype: null,
          exchg: "NSE",
          risk: "A",
          yhigh: 867,
          prev: 699.25,
          updatedAt: "2022-03-29T08:56:58.056Z",
          ylowd: "2021-10-25",
          ylow: 531.15,
          price: 710.35,
          id: "INE090A01021",
          type: "E",
        },
        INE216A08027: {
          __typename: "INBondPrice",
          mm: 0,
          rate: 5.5,
          sy: 0,
          createdAt: "2022-03-29T09:48:00.645Z",
          my: 0,
          name: "BILNCD2021",
          sid: "937561",
          cr: null,
          fv: "100.00",
          itype: null,
          subt: "CB",
          exchg: "BSE",
          risk: "C",
          ytm: 0,
          prev: 30.19,
          updatedAt: "2022-03-29T09:48:00.645Z",
          sm: 0,
          crstr: null,
          id: "INE216A08027",
          price: 30.06,
          type: "F",
        },
        INE733E07JP6: {
          __typename: "INBondPrice",
          mm: 3,
          rate: 8.49,
          sy: 2015,
          createdAt: "2022-03-29T09:47:49.983Z",
          my: 2025,
          name: "NTPC 8.49% 2025",
          sid: "NTPC25",
          cr: null,
          subt: "GBO",
          fv: 100,
          itype: "FRB",
          exchg: "NSE",
          ytm: 0.079,
          risk: "VC",
          updatedAt: "2022-03-29T09:47:49.983Z",
          prev: 104.2156,
          sm: 3,
          price: 104.2156,
          id: "INE733E07JP6",
          crstr: null,
          type: "F",
        },
        INE216A07052: {
          __typename: "INBondPrice",
          mm: 0,
          rate: 8,
          sy: 0,
          createdAt: "2022-03-29T09:48:00.645Z",
          my: 0,
          name: "BILNCD",
          sid: "936908",
          cr: null,
          subt: "CB",
          fv: "30.00",
          itype: null,
          exchg: "BSE",
          ytm: 0,
          risk: "C",
          updatedAt: "2022-03-29T09:48:00.645Z",
          prev: 31.43,
          sm: 0,
          price: 31.48,
          id: "INE216A07052",
          crstr: null,
          type: "F",
        },
        INE787H07362: {
          __typename: "INBondPrice",
          mm: 0,
          rate: 8.73,
          sy: 0,
          createdAt: "2022-03-28T15:31:08.235Z",
          my: 0,
          name: "873IIFCL29D",
          sid: "961821",
          cr: null,
          fv: "1000.00",
          itype: null,
          subt: "CB",
          exchg: "BSE",
          risk: "C",
          ytm: 0,
          prev: 1222,
          updatedAt: "2022-03-28T15:31:08.235Z",
          sm: 0,
          crstr: null,
          id: "INE787H07362",
          price: 1274,
          type: "F",
        },
        INE031A07949: {
          __typename: "INBondPrice",
          mm: 0,
          rate: -1,
          sy: 0,
          createdAt: "2022-03-29T08:56:58.055Z",
          my: 0,
          name: "HUDCO",
          fr: false,
          sid: "HUDCO",
          cr: null,
          subt: "CB",
          fv: 100,
          itype: null,
          exchg: "NSE",
          ytm: 0,
          risk: "M",
          tf: false,
          updatedAt: "2022-03-29T08:56:58.055Z",
          prev: 1259.4,
          sm: 0,
          price: 1271.99,
          id: "INE031A07949",
          type: "F",
        },
        INE774D07SU3: {
          __typename: "INBondPrice",
          mm: 0,
          rate: 9.15,
          sy: 0,
          createdAt: "2022-03-29T09:48:00.644Z",
          my: 0,
          name: "915MMFSL24",
          sid: "936408",
          cr: null,
          subt: "CB",
          fv: "1000.00",
          itype: null,
          exchg: "BSE",
          ytm: 0,
          risk: "C",
          updatedAt: "2022-03-29T09:48:00.644Z",
          prev: 1026,
          sm: 0,
          crstr: null,
          price: 1035,
          id: "INE774D07SU3",
          type: "F",
        },
        SM003002: {
          __typename: "NPSPrice",
          st: "SG",
          createdAt: "2022-03-11T23:00:30.208Z",
          name: "LIC PENSION FUND SCHEME - STATE GOVT",
          subt: "GBO",
          risk: "VC",
          pfm: "L",
          updatedAt: "2022-03-11T23:00:30.208Z",
          prev: "32.0325",
          price: "32.0174",
          id: "SM003002",
          type: "F",
        },
        SM008009: {
          __typename: "NPSPrice",
          st: "T2",
          createdAt: "2022-03-11T23:00:30.208Z",
          name: "HDFC PENSION MANAGEMENT COMPANY LIMITED SCHEME A - TIER II",
          subt: "HB",
          risk: "C",
          pfm: "H",
          updatedAt: "2022-03-11T23:00:30.208Z",
          prev: "10.0000",
          price: "10.0000",
          id: "SM008009",
          type: "F",
        },
        "BTC-USD": {
          name: "BTC-USD",
          prev: 3570276.287076574,
          price: 3625885.972886719,
        },
        "$ANRX-USD": {
          name: "$ANRX-USD",
          prev: 3.2044650625471003,
          price: 3.0684525789543997,
        },
      },
      [
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 371,
          exchg: "NSE",
          id: "INE562A01011",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "INDIANB",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "CB",
          qty: 12,
          exchg: "NSE",
          id: "INE802G01018",
          pur: null,
          curr: "INR",
          type: "F",
          sid: "JETAIRWAYS",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 713,
          exchg: "NSE",
          id: "INE848E01016",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "NHPC",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 280,
          exchg: "NSE",
          id: "INE584A01023",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "NMDC",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 180,
          exchg: "NSE",
          id: "INE213A01029",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "ONGC",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 199,
          exchg: "NSE",
          id: "INE274J01014",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "GULFOILLUB",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 752,
          exchg: "NSE",
          id: "INE809I01019",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "ONMOBILE",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 40,
          exchg: "NSE",
          id: "INE262H01013",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "PERSISTENT",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 500,
          exchg: "NSE",
          id: "INE020B01018",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "RECLTD",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 50,
          exchg: "NSE",
          id: "INE018E01016",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "SBICARD",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 180,
          exchg: "NSE",
          id: "INE062A01020",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "SBIN",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 408,
          exchg: "NSE",
          id: "INE467B01029",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "TCS",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 68,
          exchg: "NSE",
          id: "INE669C01036",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "TECHM",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 200,
          exchg: "NSE",
          id: "INE692A01016",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "UNIONBANK",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 750,
          exchg: "NSE",
          id: "INE528G01035",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "YESBANK",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "R",
          qty: 800,
          exchg: "NSE",
          id: "INE041025011",
          pur: null,
          curr: "INR",
          type: "A",
          sid: "EMBASSY",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "CB",
          qty: 1000,
          exchg: "BSE",
          id: "INE774D07SU3",
          pur: null,
          curr: "INR",
          type: "F",
          sid: "936408",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "GBO",
          qty: 150,
          exchg: "NSE",
          id: "INE733E07JP6",
          pur: null,
          curr: "INR",
          type: "F",
          sid: "NTPC25",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "GoldB",
          qty: 15,
          exchg: "NSE",
          id: "IN0020160043",
          pur: null,
          curr: "INR",
          type: "F",
          sid: "SGBSEP24",
        },
        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: null,
          qty: 89.984,
          exchg: null,
          id: "INF137A01037",
          pur: null,
          curr: "INR",
          type: null,
          sid: null,
        },

        {
          fId: "991b468e-31b8-4aef-930c-a1cdfa08cb82",
          subt: "S",
          qty: 197.37,
          exchg: null,
          id: "INF677K01155",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "118069",
        },

        {
          fId: "b1631d50-f050-4524-9773-770aa8832d97",
          subt: "S",
          qty: 75,
          exchg: "NSE",
          id: "INE742F01042",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "ADANIPORTS",
        },
        {
          fId: "b1631d50-f050-4524-9773-770aa8832d97",
          subt: "S",
          qty: 7,
          exchg: "NSE",
          id: "INE540L01014",
          pur: null,
          curr: "INR",
          type: "E",
          sid: "ALKEM",
        },

        {
          fId: "64641bdb-db9a-48f1-82f7-67e034b77477",
          subt: "CB",
          qty: 428,
          exchg: "NSE",
          id: "INE733E07JP6",
          curr: "INR",
          type: "F",
          sid: "NTPC",
        },
        {
          fId: "64641bdb-db9a-48f1-82f7-67e034b77477",
          subt: "S",
          qty: 418.315,
          exchg: null,
          id: "INF903J01F68",
          curr: "INR",
          type: "E",
          sid: "129213",
        },
        {
          fId: "64641bdb-db9a-48f1-82f7-67e034b77477",
          subt: "S",
          qty: 75,
          exchg: "NSE",
          id: "INE742F01042",
          curr: "INR",
          type: "E",
          sid: "ADANIPORTS",
        },
        {
          fId: "64641bdb-db9a-48f1-82f7-67e034b77477",
          subt: "S",
          qty: 70,
          exchg: "NSE",
          id: "INE102I01027",
          curr: "INR",
          type: "E",
          sid: "ADSL",
        },
        {
          fId: "64641bdb-db9a-48f1-82f7-67e034b77477",
          subt: "S",
          qty: 100,
          exchg: "NSE",
          id: "INE522F01014",
          curr: "INR",
          type: "E",
          sid: "COALINDIA",
        },
        {
          fId: "64641bdb-db9a-48f1-82f7-67e034b77477",
          subt: "S",
          qty: 30,
          exchg: "NSE",
          id: "INE887G01027",
          curr: "INR",
          type: "E",
          sid: "GOKEX",
        },
      ]
    );
    console.log(data);
    expect(data.gainers).toEqual([
      { name: "Coal India Limited", diff: 2.77 },
      { name: "NMDC Limited", diff: 2.7 },
      { name: "State Bank of India", diff: 1.39 },
    ]);
    expect(data.losers).toEqual([
      { name: "OnMobile Global Limited", diff: 2.76 },
      { name: "Yes Bank Limited", diff: 1.18 },
      { name: "REC Limited", diff: 0.97 },
    ]);
    expect(data.yhighList).toEqual([]);
    expect(data.ylowList).toEqual([]);
    expect(data.totalPrev).toEqual(2126529.3400000003);
    expect(data.totalPrice).toEqual(2137464.04);
  });
});

describe("Test calculateDiffPercent", () => {
  test("Value", () => {
    const data = calculateDiffPercent(150, 100);
    expect(data).toEqual(50);
  });
  test("Value", () => {
    const data = calculateDiffPercent(180, 150);
    expect(data).toEqual(20);
  });
});

describe("Test convertTroyOunceToGram", () => {
  test("Value", () => {
    const data = convertTroyOunceToGram(31100);
    expect(data).toEqual(1110);
  });
});

describe("Test getNumberOfDays", () => {
  test("Difference in Days", () => {
    const data = getNumberOfDays("25-Mar-2022", "29-Mar-2022");
    expect(data).toEqual(4);
  });
  test("Difference in Months", () => {
    const data = getNumberOfDays("25-Feb-2022", "29-Mar-2022");
    expect(data).toEqual(32);
  });
  test("Difference in Year", () => {
    const data = getNumberOfDays("25-Feb-2021", "29-Mar-2022");
    expect(data).toEqual(397);
  });
});

describe("Test sortDescending", () => {
  test("Sort", () => {
    const data = sortDescending(
      [
        { name: "diff3", diff: 18 },
        { name: "diff2", diff: 22 },
        { name: "diff1", diff: 25 },
      ],
      "diff"
    );
    expect(data).toEqual([
      { name: "diff1", diff: 25 },
      { name: "diff2", diff: 22 },
      { name: "diff3", diff: 18 },
    ]);
  });
});
